<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Catalogo</title>

    <link rel="stylesheet" href="../css/catalogo.css" />
    <link rel="stylesheet" href="../css/style.css" />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
        href="https://fonts.googleapis.com/css2?family=Arizonia&family=Irish+Grover&family=Pacifico&family=Poetsen+One&display=swap"
        rel="stylesheet" />

    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.js"></script>
</head>

<body onload="carregarCatalogo()">
    <nav>
        <ul class="navLinks">
            <li><a href="home.html">Home</a></li>
            <li><a href="home.html">Dashboard</a></li>
            <li><a href="home.html">Dúvidas</a></li>
            <li><a href="#">Catálogo</a></li>
            <li><a href="quiz.html">Quiz</a></li>
        </ul>
        <a class="entrar" href="login.html">Entrar</a>
        <a class="fazerParte" href="cadastro.html">Faça parte</a>
    </nav>

    <div class="container">
        <div id="listaLivros">

        </div>
    </div>

    <dialog id="modalDetalhesLivro"></dialog>
</body>

</html>
<script>


    var livros = [
        {
            titulo: "A metamorfose",
            autor: "Franz Kafka",
            editora: "Principis",
            data_publicacao: "2019-09-27",
            genero: "Ficção",
            descricao: "O caixeiro-viajante Gregor acorda metamorfoseado em um enorme inseto e percebe que tudo mudou e não só em sua vida, mas no mundo. Ele, então, acompanha as reações de sua família ao perceberem o estranho ser em que ele se tornou. E, enquanto luta para se manter vivo, reflete sobre o comportamento de seus pais, de sua irmã e sobre a sua nova vida",
            url_capa: "https://m.media-amazon.com/images/I/715JOcuqSSL._SL1021_.jpg",
            disponivel: true
        },
        {
            titulo: "Nunca vi a chuva",
            autor: "Stefano Volp",
            editora: "Record",
            data_publicacao: "2023-05-29",
            genero: "Ficção",
            descricao: "Em teoria, Lucas parece ter a vida perfeita. Adotado por uma família rica, ele mora em Portugal, tem amigos e uma namorada que ama. Mas se não há nada do que reclamar, então de onde vem esse vazio que não consegue evitar sentir? Quando as brigas com os pais e uma desilusão amorosa o levam a um limite do qual já se aproximava a passos largos, o jovem decide que não há mais motivo para viver. Prestes a tomar uma decisão da qual não há retorno, uma mensagem em seu celular o faz repensar tudo: um vídeo de alguém idêntico a ele, exceto pelo fato de ter uma deficiência visual. Incrédulo com essa reviravolta, Lucas resolve abandonar a vida em Portugal e partir rumo ao interior do Rio de Janeiro atrás de respostas sobre quem é o seu gêmeo e o que isso pode revelar sobre seu passado. Escrito em forma de diário a partir do olhar e da narrativa inconfundíveis de Stefano Volp, um dos grandes novos nomes da literatura brasileira, Nunca vi a chuva é um relato intimista e profundo de um jovem descobrindo seu caminho e seu lugar no mundo.",
            url_capa: "https://m.media-amazon.com/images/I/816jlkYJutL._SL1500_.jpg",
            disponivel: true
        },
        {
            titulo: "'Boa Noite Punpun Vol. 1",
            autor: "Inio Asano",
            editora: "JBC",
            data_publicacao: "2007-08-03",
            genero: "Mangá",
            descricao: "Punpun Onodera é um garoto normal, que vive feliz com sua família. Um dia, Aiko Tanaka é transferida para a sua escola. Foi paixão à primeira vista!! Voltando juntos para casa, ela conta que no futuro, “a Terra vai se tornar um planeta inabitável”.",
            url_capa: "https://www.jbchost.com.br/editorajbc/wp-content/uploads/2018/12/Boa-Noite-Punpun-01-Capa_p.jpg",
            disponivel: true
        },
        {
            titulo: "'Boa Noite Punpun Vol. 2",
            autor: "Inio Asano",
            editora: "JBC",
            data_publicacao: "2008-12-01",
            genero: "Mangá",
            descricao: "Punpun Onodera é um garoto normal, que vive feliz com sua família. Um dia, Aiko Tanaka é transferida para a sua escola. Foi paixão à primeira vista!! Voltando juntos para casa, ela conta que no futuro, “a Terra vai se tornar um planeta inabitável”.",
            url_capa: "https://www.jbchost.com.br/editorajbc/wp-content/uploads/2018/12/Boa-Noite-Punpun-02-Capa_p-300x455.jpg",
            disponivel: true
        },
        {
            titulo: "'Boa Noite Punpun Vol. 3",
            autor: "Inio Asano",
            editora: "JBC",
            data_publicacao: "2014-11-07",
            genero: "Mangá",
            descricao: "Punpun Onodera é um garoto normal, que vive feliz com sua família. Um dia, Aiko Tanaka é transferida para a sua escola. Foi paixão à primeira vista!! Voltando juntos para casa, ela conta que no futuro, “a Terra vai se tornar um planeta inabitável”.",
            url_capa: "https://www.jbchost.com.br/editorajbc/wp-content/uploads/2019/03/Boa-Noite-Punpun-03-Capa_p-300x455.jpg",
            disponivel: true
        },
        {
            titulo: "'Boa Noite Punpun Vol. 4",
            autor: "Inio Asano",
            editora: "JBC",
            data_publicacao: "2016-12-20",
            genero: "Mangá",
            descricao: "Punpun Onodera é um garoto normal, que vive feliz com sua família. Um dia, Aiko Tanaka é transferida para a sua escola. Foi paixão à primeira vista!! Voltando juntos para casa, ela conta que no futuro, “a Terra vai se tornar um planeta inabitável”.",
            url_capa: "https://www.jbchost.com.br/editorajbc/wp-content/uploads/2019/03/Boa-Noite-Punpun-04-Capa_p.jpg",
            disponivel: true
        },
        {
            titulo: "'Boa Noite Punpun Vol. 5",
            autor: "Inio Asano",
            editora: "JBC",
            data_publicacao: "2019-03-31",
            genero: "Mangá",
            descricao: "Punpun Onodera é um garoto normal, que vive feliz com sua família. Um dia, Aiko Tanaka é transferida para a sua escola. Foi paixão à primeira vista!! Voltando juntos para casa, ela conta que no futuro, “a Terra vai se tornar um planeta inabitável”.",
            url_capa: "https://www.jbchost.com.br/editorajbc/wp-content/uploads/2019/05/Boa-Noite-Punpun-05-Capa_p-300x455.jpg",
            disponivel: true
        },
        {
            titulo: "'Boa Noite Punpun Vol. 6",
            autor: "Inio Asano",
            editora: "JBC",
            data_publicacao: "2019-03-31",
            genero: "Mangá",
            descricao: "Punpun Onodera é um garoto normal, que vive feliz com sua família. Um dia, Aiko Tanaka é transferida para a sua escola. Foi paixão à primeira vista!! Voltando juntos para casa, ela conta que no futuro, “a Terra vai se tornar um planeta inabitável”.",
            url_capa: "https://www.jbchost.com.br/editorajbc/wp-content/uploads/2019/05/Boa-Noite-Punpun-06-Capa_p-300x455.jpg",
            disponivel: false
        },
        {
            titulo: "'Boa Noite Punpun Vol. 7",
            autor: "Inio Asano",
            editora: "JBC",
            data_publicacao: "2019-03-31",
            genero: "Mangá",
            descricao: "Punpun Onodera é um garoto normal, que vive feliz com sua família. Um dia, Aiko Tanaka é transferida para a sua escola. Foi paixão à primeira vista!! Voltando juntos para casa, ela conta que no futuro, “a Terra vai se tornar um planeta inabitável”.",
            url_capa: "https://www.jbchost.com.br/editorajbc/wp-content/uploads/2019/07/Boa-Noite-Punpun-07-Capa_p-300x455.jpg",
            disponivel: true
        },
    ];

    function carregarCatalogo() {


        var htmlLivros = "";

        for (var i = 0; i < livros.length; i++) {
            var livro = livros[i]
            var classeIndisponivel = ""

            if (livro.disponivel == false) {
                classeIndisponivel = "indisponivel"
            }

            htmlLivros +=
                `
                <div class="livro ${classeIndisponivel}">
                    <img src="${livro.url_capa}">
                    <p>${livro.titulo}</p>
                    <button class="botao-emprestar"  onclick="pedirEmprestado()"> Pedir emprestado </button>
                    <button class="botao-detalhes-livro"  onclick ="verDetalhes(${i})">Mais detalhes</button>
                </div>
            `
        }

        listaLivros.innerHTML = htmlLivros;
    }

    function pedirEmprestado() {

        Swal.fire({
            title: "Solicitação criada com sucesso!",
            html: "O portador do livro entrará em contato via email cadastrado no site para tratar mais detalhes. Fique de olho!! ",
            icon: "success",
            color: "#000",
            confirmButtonColor: "#155d9c",
            background: "#f4f6fa"
        });



    }

    function verDetalhes(indiceLivro) {
        var livroDetalhes = livros[indiceLivro]

        modalDetalhesLivro.innerHTML = `
        <button class="fechar" onclick="modalDetalhesLivro.close()">X</button>
        <div>

            <p class="titulo">${livroDetalhes.titulo}</p>

            <p class="autor">${livroDetalhes.autor}</p>

            <div class="detalhes-adicionais">
                <p>Editora:
                    <br>
                    <span>${livroDetalhes.editora}</span>
                </p>

                <p>Data de publicação:
                    <br> <span>${new Date(livroDetalhes.data_publicacao).toLocaleDateString("pt-br")}</span>
                </p>

                <p>Gênero:
                    <br>
                    <span>${livroDetalhes.genero}</span>
                </p>
            </div>

            <p class="descricao">${livroDetalhes.descricao}</p>
        </div>

        <img src="${livroDetalhes.url_capa}">
`
        modalDetalhesLivro.showModal()
    }

</script>